
## CNF Transformation Zoo

This is a table of tools that implement a CNF transformation for (feature-model or general Boolean) formulas.
This table is intended to facilitate choosing the right tool for transforming into CNF.
Most importantly, these tools subtly differ in the preserved semantics of the transformed formulas, and may be of varying time and space complexity.
Also, the supported input/outputs formats and tool integrations sometimes differ considerably.

This list does not include preprocessing tools (which can be applied after CNF has been established; e.g., [Arjun](https://github.com/meelgroup/arjun), [Scranfilize](https://fmv.jku.at/scranfilize/), and others).
Also, this list does not claim to be complete.
It was created based on web search, domain knowledge, and snowballing.

| Tool                                                              | Transformations                                                                                            | Auxiliary Variables                                 | Notes                                                                                                                  | Integrations                                                                                                                           | Link to Implementation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Authors                                                                           | License    |
| ----------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- | --------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- | ---------- |
| [**clausy**](https://github.com/ekuiter/clausy) (this project)    | Total Tseitin; Total Distributive                                                                          | Yes (Tseitin); No (Distributive)                    | Focused and specialized; extensively documented; accepts `.sat`, KConfigReader `.model`, FeatureIDE formats            | CLI; Rust; [torte](https://github.com/ekuiter/torte)                                                                                   | [formula.rs](https://github.com/ekuiter/clausy/blob/main/src/core/formula.rs)                                                                                                                                                                                                                                                                                                                                                                                                                                     | Elias Kuiter                                                                      | LGPL v3    |
| [**FeatureIDE**](https://github.com/FeatureIDE/FeatureIDE)        | Total Distributive                                                                                         | No                                                  | General-purpose feature modeling framework                                                                             | GUI; Java; [torte](https://github.com/ekuiter/torte/blob/main/src/docker/featjar/transform/src/main/java/ModelToDIMACSFeatureIDE.java) | [CNFDistributiveLawTransformer.java](https://github.com/FeatureIDE/FeatureIDE/blob/develop/plugins/de.ovgu.featureide.fm.core/src/org/prop4j/CNFDistributiveLawTransformer.java)                                                                                                                                                                                                                                                                                                                                  | Thomas Thüm, Sebastian Krieter, others                                            | LGPL v3    |
| [**FeatJAR**](https://github.com/FeatureIDE/FeatJAR)              | Total Distributive; Partial Tseitin (`MAXIMUM_NUMBER_OF_LITERALS`); Partial Plaisted–Greenbaum (NNF-based) | Conditional                                         | Partial transformations triggered when `MAXIMUM_NUMBER_OF_LITERALS` is exceeded; Plaisted–Greenbaum not polarity-based | CLI; Java; [torte](https://github.com/ekuiter/torte/blob/main/src/docker/featjar/transform/src/main/java/ModelToDIMACSFeatJAR.java)    | [FeatJAR-formula](https://github.com/FeatureIDE/FeatJAR-formula); [DistributiveTransformer.java](https://github.com/FeatureIDE/FeatJAR-formula/blob/main/src/main/java/de/featjar/formula/computation/DistributiveTransformer.java); [TseitinTransformer.java](https://github.com/FeatureIDE/FeatJAR-formula/blob/main/src/main/java/de/featjar/formula/computation/TseitinTransformer.java)                                                                                                                      | Sebastian Krieter, Elias Kuiter, Thomas Thüm                                      | LGPL v3    |
| [**Z3**](https://github.com/Z3Prover/z3)                          | Partial Tseitin                                                                                            | Conditional (`m_distributivity_blowup`, default 32) | Supports full SMT to CNF; widely reused                                                                                | CLI; Python; Java via [JavaSMT](https://github.com/sosy-lab/java-smt); used by KClause; integrated in FeatJAR and torte                | [Website](https://www.microsoft.com/en-us/research/project/z3-3/); [tseitin_cnf_tactic.cpp](https://github.com/Z3Prover/z3/blob/master/src/tactic/core/tseitin_cnf_tactic.cpp)                                                                                                                                                                                                                                                                                                                                    | Microsoft Research team led by Nikolaj Bjørner, Lev Nachmanson, Leonardo de Moura | MIT        |
| [**KConfigReader**](https://github.com/ckaestne/kconfigreader)    | Partial Plaisted–Greenbaum (NNF-based)                                                                     | Conditional (fixed threshold = 16)                  | Negation normal form required; arbitrary Boolean formulas only via torte integration                                   | Scala; [torte](https://github.com/ekuiter/torte/blob/main/src/docker/kconfigreader/TransformIntoDIMACS.scala)                          | [TypeChef](https://github.com/ckaestne/TypeChef); [SATFeatureExpr.scala](https://github.com/ckaestne/TypeChef/blob/master/FeatureExprLib/src/main/scala/de/fosd/typechef/featureexpr/sat/SATFeatureExpr.scala)                                                                                                                                                                                                                                                                                                    | Christian Kästner                                                                 | LGPL v3    |
| [**KClause** (legacy)](https://github.com/jeho-oh/Kclause_Smarch) | Total Distributive                                                                                         | No                                                  | Deprecated; replaced by Z3-based implementation                                                                        | CLI                                                                                                                                    | [dimacs.py](https://github.com/jeho-oh/Kclause_Smarch/blob/master/Kclause/dimacs.py#L300)                                                                                                                                                                                                                                                                                                                                                                                                                         | Paul Gazzillo, Jeho Oh                                                            | Unclear    |
| [**ConfigFix**](https://github.com/isselab/configfix)             | Total Tseitin                                                                                              | Yes                                                 | Restricted to KConfig-derived formulas                                                                                 | CLI; [torte](https://github.com/ekuiter/torte-ConfigFix/tree/main)                                                                     | [cf_utils.c](https://github.com/ekuiter/torte-ConfigFix/blob/main/scripts/kconfig/cf_utils.c#L477)                                                                                                                                                                                                                                                                                                                                                                                                                | Joint team at Ruhr University Bochum, Chalmers, and University of Gothenburg      | GPL v2     |
| [**LogicNG**](https://github.com/logic-ng/LogicNG)                | Total Distributive; Partial Tseitin; Partial Plaisted–Greenbaum; BDD; Enumeration                          | Conditional                                         | Multiple CNF strategies; Plaisted–Greenbaum not polarity-based                                                         | Java                                                                                                                                   | [Website](https://logicng.org/); [CNFFactorization.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/CNFFactorization.java); [TseitinTransformation.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/TseitinTransformation.java); [PlaistedGreenbaumTransformation.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/PlaistedGreenbaumTransformation.java) | Christoph Zengler (BooleWorks)                                                    | Apache 2.0 |
| [**Booleguru**](https://gitlab.sai.jku.at/booleguru/booleguru)    | Total Tseitin; Total Plaisted–Greenbaum (polarity-based)                                                   | Yes                                                 | Plaisted–Greenbaum is polarity-based; negation normal form not required                                                | CLI; Python                                                                                                                            | [Website](https://booleguru.pages.sai.jku.at/booleguru/); [tseitin_impl.hpp](https://gitlab.sai.jku.at/booleguru/booleguru/-/blob/main/src/transform/include/booleguru/transform/tseitin_impl.hpp); [plaisted_greenbaum_impl.hpp](https://gitlab.sai.jku.at/booleguru/booleguru/-/blob/main/src/transform/include/booleguru/transform/plaisted_greenbaum_impl.hpp)                                                                                                                                                | Maximilian Heisinger                                                              | MIT        |
| [**PySAT**](https://github.com/pysathq/pysat)                     | Total Tseitin                                                                                              | Yes                                                 | SAT-focused Python ecosystem                                                                                           | Python                                                                                                                                 | [Website](https://pysathq.github.io/); [formula.py](https://github.com/pysathq/pysat/blob/master/pysat/formula.py)                                                                                                                                                                                                                                                                                                                                                                                                | Alexey Ignatiev, Joao Marques-Silva, Antonio Morgado                              | MIT        |
| [**Limboole**](https://fmv.jku.at/limboole/)                      | Total Tseitin                                                                                              | Yes                                                 | Classic SAT tool                                                                                                       | CLI                                                                                                                                    | [v1.2](https://fmv.jku.at/limboole/limboole1.2.tgz)                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Armin Biere, Martina Seidl                                                        | MIT        |

**Supporting Explanations**

- A **total distributive transformation** introduces no auxiliary variables.
  The transformed formula is always [equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula.
  This transformation may suffer from exponential blowup on large inputs (due to repeated application of the distributive law).
- A **total Tseitin transformation** introduces auxiliary (aka fresh) variables for every nontrivial subformula (typically everything but leaves or negated leaves).
  The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
  The length of the resulting formula is linear in the size of the input formula.
- A **partial Tseitin transformation** introduces auxiliary variables for subformulas that satisfy a certain criterion.
  Typically, this means predicting the potential blowup during distribution, and introducing a fresh variable if a parameter is exceeded.
  should the configurable parameter `MAXIMUM_NUMBER_OF_LITERALS` (default: `Integer.MAX_VALUE`, i.e., distributive)
  The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
- A **Plaisted-Greenbaum transformation** is a variant of a Tseitin transformation that introduces fewer clauses, at the cost of losing equi-countability.
  The transformed formula is always [equi-assignable](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equi-countable).
  A Plaisted-Greenbaum transformation can be polarity-based.
  If not polarity-based, the formula must first be transformed into negation normal form, aka NNF.
- **CLI** refers to the respective tool supporting a *command-line interface* for transformation.
- Most tools listed above are not or only sparsely documented.
  clausy, in contrast, is [extensively documented](https://ekuiter.github.io/clausy/).
- Some tools listed above have additional features that are not related to CNF transformation.
  clausy, in contrast, is focused and specialized, making it easier to understand/debug and ideal for learning and experimentation purposes.

- clausy accepts any [`.sat`](meta/satformat.pdf), [KConfigReader](https://github.com/ckaestne/kconfigreader) `.model`, or [FeatureIDE](https://github.com/FeatureIDE/FeatureIDE)-compatible file for transformation and thus has more diverse inputs than any tool listed below.

[Z3Prover/z3](https://github.com/Z3Prover/z3) ([Website](https://www.microsoft.com/en-us/research/project/z3-3/), [tseitin_cnf_tactic.cpp](https://github.com/Z3Prover/z3/blob/master/src/tactic/core/tseitin_cnf_tactic.cpp))

- Z3 implements a **partial Tseitin transformation**, which introduces auxiliary variables, should the configurable parameter `m_distributivity_blowup` (default: 32) be exceeded for the predicted blowup. The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
- Z3 can not only transform any Boolean formula, but also general SMT problems into CNF.
- Z3 has a command-line interface and Python bindings.
- Z3 can also be used from Java with [JavaSMT](https://github.com/sosy-lab/java-smt).
- [KClause](https://github.com/paulgazz/kmax/blob/master/kmax/kclause) uses Z3 for CNF transformation.
- Z3 is integrated in [FeatJAR](https://github.com/FeatureIDE/FeatJAR) (see [formula-analysis-javasmt](https://github.com/FeatureIDE/FeatJAR-formula-analysis-javasmt)).
- Z3 is integrated in [torte](https://github.com/ekuiter/torte) (see [smt2dimacs.py](https://github.com/ekuiter/torte/blob/main/src/docker/z3/smt2dimacs.py)).
- KClause with Z3 over JavaSMT is integrated in [torte](https://github.com/ekuiter/torte) (see [kclause](https://github.com/ekuiter/torte/blob/main/src/docker/kclause) + [ModelToSMTZ3.java](https://github.com/ekuiter/torte/blob/main/src/docker/featjar/transform/src/main/java/ModelToSMTZ3.java)).
- Z3 is authored by a team at Microsoft Research led by Nikolaj Bjørner, Lev Nachmanson, and Leonardo de Moura.

### KConfigReader

[ckaestne/kconfigreader](https://github.com/ckaestne/kconfigreader), [ckaestne/TypeChef](https://github.com/ckaestne/TypeChef) ([SATFeatureExpr.scala](https://github.com/ckaestne/TypeChef/blob/master/FeatureExprLib/src/main/scala/de/fosd/typechef/featureexpr/sat/SATFeatureExpr.scala))

- KConfigReader implements a **partial Plaisted-Greenbaum transformation**, which introduces auxiliary variables, should the fixed parameter 16 be exceeded for the predicted blowup. The transformed formula is always [equi-assignable](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equi-countable). The transformation is not polarity-based (so, the formula is transformed into negation normal form first).
- KConfigReader is integrated in torte. This is currently the only integration of KConfigReader that is able to transform arbitrary Boolean formulas. By default, KConfigReader can only operate on Boolean formulas that it extracts from KConfig specifications.
- KConfigReader is authored by Christian Kästner.

### KClause

[jeho-oh/Kclause_Smarch](https://github.com/jeho-oh/Kclause_Smarch) ([dimacs.py](https://github.com/jeho-oh/Kclause_Smarch/blob/master/Kclause/dimacs.py#L300))

- KClause implements a **total distributive transformation**, which introduces no auxiliary variables. The transformed formula is always [equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula.
- This version of KClause has been deprecated in favor of a more recent and completely rewritten [version](https://github.com/paulgazz/kmax/blob/master/kmax/kclause). This new version no longer ships with its own CNF transformation, but uses Z3's partial Tseitin transformation instead (see above).
- KClause does not allow transformation of arbitrary Boolean formulas.
- KClause is authored by Paul Gazzillo and Jeho Oh.
- It is unclear under which license this version of KClause was released.

### ConfigFix

[isselab/configfix](https://github.com/isselab/configfix) ([cf_utils.c](https://github.com/ekuiter/torte-ConfigFix/blob/main/scripts/kconfig/cf_utils.c#L477))

- ConfigFix implements a **total Tseitin transformation**, which introduces auxiliary variables for all non-CNF subformulas. The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
- ConfigFix does not allow transformation of arbitrary Boolean formulas.
- ConfigFix is authored by a [joint team](https://github.com/isselab/configfix?tab=readme-ov-file#credits) at Ruhr University Bochum, Chalmers, and University of Gothenburg.
- ConfigFix is released under the GPL v2 license.

### LogicNG

[logic-ng/LogicNG](https://github.com/logic-ng/LogicNG) ([Website](https://logicng.org/), [CNFFactorization.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/CNFFactorization.java), [TseitinTransformation.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/TseitinTransformation.java), [PlaistedGreenbaumTransformation.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/PlaistedGreenbaumTransformation.java))

- LogicNG implements a **total distributive transformation**, which introduces no auxiliary variables. The transformed formula is always [equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula.
- LogicNG implements a **partial Tseitin transformation**, which introduces auxiliary variables, should one of several configurable parameters be exceeded for the predicted blowup. The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
- LogicNG implements a **partial Plaisted-Greenbaum transformation**, which introduces auxiliary variables, should one of several configurable parameters be exceeded for the predicted blowup. The transformed formula is always [equi-assignable](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equi-countable). The transformation is not polarity-based (so, the formula is transformed into negation normal form first).
- LogicNG implements CNF transformation via [enumeration](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/CanonicalCNFEnumeration.java) and [BDDs](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/BDDCNFTransformation.java).
- LogicNG has Java bindings.
- LogicNG is authored by Christoph Zengler from BooleWorks.
- LogicNG is released under the Apache license 2.0.

### Booleguru

[Booleguru/Booleguru](https://gitlab.sai.jku.at/booleguru/booleguru) ([Website](https://booleguru.pages.sai.jku.at/booleguru/), [tseitin_impl.hpp](https://gitlab.sai.jku.at/booleguru/booleguru/-/blob/main/src/transform/include/booleguru/transform/tseitin_impl.hpp), [plaisted_greenbaum_impl.hpp](https://gitlab.sai.jku.at/booleguru/booleguru/-/blob/main/src/transform/include/booleguru/transform/plaisted_greenbaum_impl.hpp))

- Booleguru implements a **total Tseitin transformation**, which introduces auxiliary variables for every nontrivial subformula. The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
- Booleguru implements a **total Plaisted-Greenbaum transformation**, which introduces auxiliary variables for every nontrivial subformula. The transformed formula is always [equi-assignable](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equi-countable). The transformation is polarity-based (so, negation normal form is not needed).
- Booleguru has a command-line interface and Python bindings.
- Booleguru is authored by Maximilian Heisinger.
- Booleguru is released under the MIT license.

### PySAT

[pysathq/PySAT](https://github.com/pysathq/pysat) ([Website](https://pysathq.github.io/), [formula.py](https://github.com/pysathq/pysat/blob/master/pysat/formula.py))

- PySAT implements a **total Tseitin transformation**, which introduces auxiliary variables for every nontrivial subformula. The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
- PySAT has Python bindings.
- PySAT is authored by Alexey Ignatiev, Joao Marques-Silva, and Antonio Morgado.
- PySAT is released under the MIT license.

### Limboole

[Limboole](https://fmv.jku.at/limboole/) ([v1.2](https://fmv.jku.at/limboole/limboole1.2.tgz))

- Limboole implements a **total Tseitin transformation**, which introduces auxiliary variables for every nontrivial subformula. The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
- Limboole has a command-line interface.
- Limboole is authored by Armin Biere and Martina Seidl.
- Limboole is released under the MIT license.