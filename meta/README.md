
# CNF Transformation Zoo

This is a table of tools that implement a CNF transformation for (feature-model or general Boolean) formulas.
This table is intended to facilitate choosing the right tool for transforming into CNF.
Most importantly, these tools subtly differ in the preserved semantics of the transformed formulas, and may be of varying time and space complexity.
Also, the supported input/outputs formats and tool integrations sometimes differ considerably.

This table does not include preprocessing tools (which can be applied after CNF has been established; e.g., [Arjun](https://github.com/meelgroup/arjun), [Scranfilize](https://fmv.jku.at/scranfilize/), and others).
Also, this table does not claim to be complete - feel free to submit a pull request with new additions.
It was created based on web search, domain knowledge, and snowballing.

On GitHub, this table can be scrolled horizontally to view all columns.

| Tool                                                           | Transformations                                                                                                                                                                                                                                                                                                                                                                           | Notes                                                                                                                                                                                                       | Integrations                                                                                                                                                                                                                                                                                                                                                                                                                       | Link to Implementation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Authors                                                                                                                                         | License    |
| -------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- | ---------- |
| [**clausy**](https://github.com/ekuiter/clausy) (this project) | Total Tseitin; Total Distributive                                                                                                                                                                                                                                                                                                                                                         | accepts any [`.sat`](meta/satformat.pdf), [KConfigReader](https://github.com/ckaestne/kconfigreader) `.model`, or [FeatureIDE](https://github.com/FeatureIDE/FeatureIDE)-compatible file for transformation | CLI; Rust; [torte](https://github.com/ekuiter/torte)                                                                                                                                                                                                                                                                                                                                                                               | [formula.rs](https://github.com/ekuiter/clausy/blob/main/src/core/formula.rs)                                                                                                                                                                                                                                                                                                                                                                                                                                     | Elias Kuiter                                                                                                                                    | LGPL v3    |
|                                                                |                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                 |            |
| [**FeatureIDE**](https://github.com/FeatureIDE/FeatureIDE)     | Total Distributive                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                             | GUI; Java; [torte](https://github.com/ekuiter/torte/blob/main/src/docker/featjar/transform/src/main/java/ModelToDIMACSFeatureIDE.java)                                                                                                                                                                                                                                                                                             | [CNFDistributiveLawTransformer.java](https://github.com/FeatureIDE/FeatureIDE/blob/develop/plugins/de.ovgu.featureide.fm.core/src/org/prop4j/CNFDistributiveLawTransformer.java)                                                                                                                                                                                                                                                                                                                                  | Thomas Thüm, Sebastian Krieter, and others                                                                                                      | LGPL v3    |
| [**FeatJAR**](https://github.com/FeatureIDE/FeatJAR)           | Total Distributive; Partial Tseitin (`MAXIMUM_NUMBER_OF_LITERALS` = `Integer.MAX_VALUE`); Partial Plaisted–Greenbaum (NNF-based)                                                                                                                                                                                                                                                          |                                                                                                                                                                                                             | CLI; Java; [torte](https://github.com/ekuiter/torte/blob/main/src/docker/featjar/transform/src/main/java/ModelToDIMACSFeatJAR.java)                                                                                                                                                                                                                                                                                                | [FeatJAR-formula](https://github.com/FeatureIDE/FeatJAR-formula); [DistributiveTransformer.java](https://github.com/FeatureIDE/FeatJAR-formula/blob/main/src/main/java/de/featjar/formula/computation/DistributiveTransformer.java); [TseitinTransformer.java](https://github.com/FeatureIDE/FeatJAR-formula/blob/main/src/main/java/de/featjar/formula/computation/TseitinTransformer.java)                                                                                                                      | Sebastian Krieter, Elias Kuiter, and Thomas Thüm                                                                                                | LGPL v3    |
| [**Z3**](https://github.com/Z3Prover/z3)                       | Partial Tseitin (`m_distributivity_blowup` = 32)                                                                                                                                                                                                                                                                                                                                          | can not only transform any Boolean formula, but also general SMT problems into CNF                                                                                                                          | CLI; Python; [JavaSMT](https://github.com/sosy-lab/java-smt); [KClause](https://github.com/paulgazz/kmax/blob/master/kmax/kclause); [FeatJAR](https://github.com/FeatureIDE/FeatJAR-formula-analysis-javasmt); torte [<sup>1</sup>](https://github.com/ekuiter/torte/blob/main/src/docker/z3/smt2dimacs.py) [<sup>2</sup>](ttps://github.com/ekuiter/torte/blob/main/src/docker/featjar/transform/src/main/java/ModelToSMTZ3.java) | [Website](https://www.microsoft.com/en-us/research/project/z3-3/); [tseitin_cnf_tactic.cpp](https://github.com/Z3Prover/z3/blob/master/src/tactic/core/tseitin_cnf_tactic.cpp)                                                                                                                                                                                                                                                                                                                                    | Nikolaj Bjørner, Lev Nachmanson, and Leonardo de Moura (Microsoft Research)                                                                     | MIT        |
| [**KConfigReader**](https://github.com/ckaestne/kconfigreader) | Partial Plaisted–Greenbaum (16; NNF-based)                                                                                                                                                                                                                                                                                                                                                | cannot transform arbitrary Boolean formulas (restriction lifted in torte)                                                                                                                                   | Scala; [torte](https://github.com/ekuiter/torte/blob/main/src/docker/kconfigreader/TransformIntoDIMACS.scala)                                                                                                                                                                                                                                                                                                                      | [TypeChef](https://github.com/ckaestne/TypeChef); [SATFeatureExpr.scala](https://github.com/ckaestne/TypeChef/blob/master/FeatureExprLib/src/main/scala/de/fosd/typechef/featureexpr/sat/SATFeatureExpr.scala)                                                                                                                                                                                                                                                                                                    | Christian Kästner                                                                                                                               | LGPL v3    |
| [**KClause**](https://github.com/jeho-oh/Kclause_Smarch)       | Total Distributive                                                                                                                                                                                                                                                                                                                                                                        | cannot transform arbitrary Boolean formulas; has been deprecated and [rewritten](https://github.com/paulgazz/kmax/blob/master/kmax/kclause) to use Z3 instead                                               | CLI                                                                                                                                                                                                                                                                                                                                                                                                                                | [dimacs.py](https://github.com/jeho-oh/Kclause_Smarch/blob/master/Kclause/dimacs.py#L300)                                                                                                                                                                                                                                                                                                                                                                                                                         | Paul Gazzillo and Jeho Oh                                                                                                                       | GPL v3     |
| [**ConfigFix**](https://github.com/isselab/configfix)          | Total Tseitin (for all non-CNF subformulas)                                                                                                                                                                                                                                                                                                                                               | cannot transform arbitrary Boolean formulas                                                                                                                                                                 | CLI; [torte](https://github.com/ekuiter/torte-ConfigFix/tree/main) (no transformation)                                                                                                                                                                                                                                                                                                                                             | [cf_utils.c](https://github.com/ekuiter/torte-ConfigFix/blob/main/scripts/kconfig/cf_utils.c#L477)                                                                                                                                                                                                                                                                                                                                                                                                                | [Joint team](https://github.com/isselab/configfix?tab=readme-ov-file#credits) at Ruhr University Bochum, Chalmers, and University of Gothenburg | GPL v2     |
| [**LogicNG**](https://github.com/logic-ng/LogicNG)             | Total Distributive; Partial Tseitin (`boundaryForFactorization` = 12); Partial Plaisted–Greenbaum (NNF-based); [Enumeration](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/CanonicalCNFEnumeration.java); [BDDs](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/BDDCNFTransformation.java) | Multiple CNF strategies; Plaisted–Greenbaum not polarity-based                                                                                                                                              | Java                                                                                                                                                                                                                                                                                                                                                                                                                               | [Website](https://logicng.org/); [CNFFactorization.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/CNFFactorization.java); [TseitinTransformation.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/TseitinTransformation.java); [PlaistedGreenbaumTransformation.java](https://github.com/logic-ng/LogicNG/blob/master/src/main/java/org/logicng/transformations/cnf/PlaistedGreenbaumTransformation.java) | Christoph Zengler (BooleWorks)                                                                                                                  | Apache 2.0 |
| [**Booleguru**](https://gitlab.sai.jku.at/booleguru/booleguru) | Total Tseitin; Total Plaisted–Greenbaum (polarity-based)                                                                                                                                                                                                                                                                                                                                  | Plaisted–Greenbaum is polarity-based; negation normal form not required                                                                                                                                     | CLI; Python                                                                                                                                                                                                                                                                                                                                                                                                                        | [Website](https://booleguru.pages.sai.jku.at/booleguru/); [tseitin_impl.hpp](https://gitlab.sai.jku.at/booleguru/booleguru/-/blob/main/src/transform/include/booleguru/transform/tseitin_impl.hpp); [plaisted_greenbaum_impl.hpp](https://gitlab.sai.jku.at/booleguru/booleguru/-/blob/main/src/transform/include/booleguru/transform/plaisted_greenbaum_impl.hpp)                                                                                                                                                | Maximilian Heisinger                                                                                                                            | MIT        |
| [**PySAT**](https://github.com/pysathq/pysat)                  | Total Tseitin                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                             | Python                                                                                                                                                                                                                                                                                                                                                                                                                             | [Website](https://pysathq.github.io/); [formula.py](https://github.com/pysathq/pysat/blob/master/pysat/formula.py)                                                                                                                                                                                                                                                                                                                                                                                                | Alexey Ignatiev, Joao Marques-Silva, and Antonio Morgado                                                                                        | MIT        |
| [**Limboole**](https://fmv.jku.at/limboole/)                   | Total Tseitin                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                             | CLI                                                                                                                                                                                                                                                                                                                                                                                                                                | [v1.2](https://fmv.jku.at/limboole/limboole1.2.tgz)                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Armin Biere and Martina Seidl                                                                                                                   | MIT        |
| [**bool2cnf**](https://github.com/tkren/bool2cnf)              | Total Plaisted–Greenbaum (polarity-based)                                                                                                                                                                                                                                                                                                                                                 | hardcoded variable limit (10000)                                                                                                                                                                            | CLI                                                                                                                                                                                                                                                                                                                                                                                                                                | [trans.c](https://github.com/tkren/bool2cnf/blob/master/trans.c)                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Tatsuhiro Tsuchiya and Thomas Krennwallner                                                                                                      | FreeBSD    |

**Additional Notes**

- A **total distributive transformation** introduces no auxiliary variables.
  The transformed formula is always [equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula.
  This transformation may suffer from exponential blowup on large inputs (due to repeated application of the distributive law).
- A **total Tseitin transformation** introduces auxiliary (aka fresh) variables for every nontrivial subformula (typically everything but leaves or negated leaves).
  The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
  The length of the resulting formula is linear in the size of the input formula.
- A **partial Tseitin transformation** introduces auxiliary variables for subformulas that satisfy a certain criterion.
  Typically, this means predicting the potential blowup during distribution, and only introducing a fresh variable if a (possibly configurable) threshold is exceeded (listed in the table above).
  The transformed formula is always [quasi-equivalent](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equivalent).
- A **Plaisted-Greenbaum transformation** is a variant of a Tseitin transformation that introduces fewer clauses, at the cost of losing equi-countability.
  The transformed formula is always [equi-assignable](https://raw.githubusercontent.com/SoftVarE-Group/Papers/main/2022/2022-ASE-Kuiter.pdf) to the original formula (NOT necessarily equi-countable).
  A Plaisted-Greenbaum transformation can be polarity-based.
  If not polarity-based, the formula must first be transformed into negation normal form, aka NNF.
- **CLI** refers to the respective tool supporting a *command-line interface* for transformation.
- Most tools listed above are not or only sparsely documented.
  clausy, in contrast, is [extensively documented](https://ekuiter.github.io/clausy/).
- Some tools listed above have additional features that are not related to CNF transformation.
  clausy, in contrast, is focused and specialized, making it easier to understand/debug and ideal for learning and experimentation purposes.
- Most tools listed above have relatively limited options for input formats.
  clausy, in contrast, has a diverse set of inputs, as it extends FeatureIDE's inputs with additional formats.